"use strict";var array_utils_1=require("./../util/array-utils"),KeyboardController=function(){function e(){var e=this;this.mappings=[],this.hasDownHandler=0,this.hasUpHandler=0,this.hasPressHandler=0,this.downEventListener=function(n){return e.keyDown(n)},this.upEventListener=function(n){return e.keyUp(n)},this.pressEventListener=function(n){return e.keyPress(n)}}return e.prototype.bind=function(){window.addEventListener("keydown",this.downEventListener),window.addEventListener("keyup",this.upEventListener),window.addEventListener("keypress",this.pressEventListener)},e.prototype.unbind=function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp),window.removeEventListener("keypress",this.keyPress)},e.prototype.keyDown=function(e){this.hasDownHandler&&this.mappings.forEach(function(n){n.handleDown(e.code)})},e.prototype.keyUp=function(e){this.hasUpHandler&&this.mappings.forEach(function(n){n.handleUp(e.code)})},e.prototype.keyPress=function(e){this.hasPressHandler&&this.mappings.forEach(function(n){n.handlePress(e.code)})},e.prototype.attachKeyboardMapping=function(e){this.mappings.push(e),this.assessmentOfMapping(e)},e.prototype.removeKeyboardMapping=function(e){var n=this;array_utils_1.default.remove(e,this.mappings),this.hasDownHandler=this.hasUpHandler=this.hasPressHandler=0,this.mappings.forEach(function(e){return n.assessmentOfMapping(e)})},e.prototype.assessmentOfMapping=function(e){this.hasDownHandler|=e.isHandlingDown()?1:0,this.hasUpHandler|=e.isHandlingUp()?1:0,this.hasPressHandler|=e.isHandlingPress()?1:0},e}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=KeyboardController;
//# sourceMappingURL=keyboard-input.js.map
