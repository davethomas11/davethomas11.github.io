"use strict";var __extends=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},array_utils_1=require("./../util/array-utils"),input_controller_1=require("./input-controller"),KeyboardController=function(e){function n(){var n=this;e.apply(this,arguments),this.mappings=[],this.hasDownHandler=0,this.hasUpHandler=0,this.hasPressHandler=0,this.downEventListener=function(e){return n.keyDown(e)},this.upEventListener=function(e){return n.keyUp(e)},this.pressEventListener=function(e){return n.keyPress(e)}}return __extends(n,e),n.prototype.bind=function(){window.addEventListener("keydown",this.downEventListener),window.addEventListener("keyup",this.upEventListener),window.addEventListener("keypress",this.pressEventListener)},n.prototype.unbind=function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp),window.removeEventListener("keypress",this.keyPress)},n.prototype.keyDown=function(e){this.hasDownHandler&&this.mappings.forEach(function(n){n.handleDown(e.code)})},n.prototype.keyUp=function(e){this.hasUpHandler&&this.mappings.forEach(function(n){n.handleUp(e.code)})},n.prototype.keyPress=function(e){this.hasPressHandler&&this.mappings.forEach(function(n){n.handlePress(e.code)})},n.prototype.attachKeyboardMapping=function(e){this.mappings.push(e),this.assessmentOfMapping(e)},n.prototype.removeKeyboardMapping=function(e){array_utils_1.default.remove(e,this.mappings),this.hasDownHandler=this.hasUpHandler=this.hasPressHandler=0,this.mappings.forEach(this.assessmentOfMapping)},n.prototype.assessmentOfMapping=function(e){this.hasDownHandler|=e.isHandlingDown()?1:0,this.hasUpHandler|=e.isHandlingUp()?1:0,this.hasPressHandler|=e.isHandlingPress()?1:0},n}(input_controller_1.default);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=KeyboardController;
//# sourceMappingURL=keyboard-input.js.map
