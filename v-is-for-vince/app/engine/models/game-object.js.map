{"version":3,"sources":["engine/models/game-object.ts"],"names":["game_1","require","spawn_event_1","array_utils_1","GameObject","this","alive","x","y","modules","prototype","update","deltaMs","_this","forEach","module","addModule","push","onAttach","removeModule","default","remove","spawn","gameObject","EventBus","post","getModule","type","getByType","Object","defineProperty","exports","value"],"mappings":"YACA,IAAAA,QAAAC,QAAiB,WACjBC,cAAAD,QAAuB,yBACvBE,cAAAF,QAAuB,uBAEvBG,WAAA,WAOE,QAAAA,KANAC,KAAAC,OAAiB,EACjBD,KAAAE,EAAY,EACZF,KAAAG,EAAY,EACZH,KAAAI,WA6BF,MAtBEL,GAAAM,UAAAC,OAAA,SAAOC,GAAP,GAAAC,GAAAR,IACEA,MAAKI,QAAQK,QAAQ,SAACC,GACpBA,EAAOJ,OAAOE,EAAMD,MAIxBR,EAAAM,UAAAM,UAAA,SAAUD,GACRV,KAAKI,QAAQQ,KAAKF,GAClBA,EAAOG,SAASb,OAGlBD,EAAAM,UAAAS,aAAA,SAAaJ,GACXZ,cAAAiB,QAAWC,OAAON,EAAQV,KAAKI,UAGjCL,EAAAM,UAAAY,MAAA,SAAMC,GACJvB,OAAAoB,QAAKI,SAASC,KAAK,GAAIvB,eAAAkB,QAAWG,KAGpCnB,EAAAM,UAAAgB,UAAA,SAAWC,GACT,MAAOxB,eAAAiB,QAAWQ,UAAUD,EAAMtB,KAAKI,UAE3CL,IAEAyB,QAAAC,eAAAC,QAAA,cAAAC,OAAA,oBAAe5B","file":"game-object.js","sourcesContent":["import Module from '../modules/module';\nimport Game from '../game';\nimport SpawnEvent from '../events/spawn-event';\nimport ArrayUtils from '../util/array-utils';\n\nabstract class GameObject {\n  alive: boolean = true;\n  x: number = 0;\n  y: number = 0;\n  modules: Array<Module> = [];\n\n  //TODO: placeholder for base GameObject\n  constructor() {}\n\n  abstract render(ctx: CanvasRenderingContext2D): void;\n\n  update(deltaMs: number): void {\n    this.modules.forEach((module) => {\n      module.update(this, deltaMs);\n    });\n  }\n\n  addModule(module: Module): void {\n    this.modules.push(module);\n    module.onAttach(this);\n  }\n\n  removeModule(module: Module): void {\n    ArrayUtils.remove(module, this.modules);\n  }\n\n  spawn(gameObject: GameObject): void {\n    Game.EventBus.post(new SpawnEvent(gameObject));\n  }\n\n  getModule (type: any): Module | null {\n    return ArrayUtils.getByType(type, this.modules);\n  }\n}\n\nexport default GameObject;"]}