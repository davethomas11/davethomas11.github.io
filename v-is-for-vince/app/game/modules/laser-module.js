"use strict";var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},module_1=require("../../engine/modules/module"),velocity_module_1=require("../../engine/modules/velocity-module"),keyboard_mapping_1=require("../../engine/input-controllers/keyboard-mapping"),keyboard_input_1=require("../../engine/input-controllers/keyboard-input"),laser_1=require("../models/laser"),LaserGunModule=function(e){function t(t,n,r){e.call(this),this.fireKey=t,this.acceleration=n,this.speed=r}return __extends(t,e),t.prototype.onAttach=function(e,t){var n=this;this.keyMapping=new keyboard_mapping_1.default,this.keyMapping.registerOnDown(this.fireKey,function(){return n.fireLaser(e)});var r=t.getInputController(keyboard_input_1.default);null!=r&&r.attachKeyboardMapping(this.keyMapping)},t.prototype.onDetach=function(e,t){var n=t.getInputController(keyboard_input_1.default);null!=n&&n.removeKeyboardMapping(this.keyMapping)},t.prototype.fireLaser=function(e){var t=e.getModule(velocity_module_1.default);if(null!=t){var n=t,r=new laser_1.default(this.acceleration,n.angle,this.speed,e.x,e.y);e.spawn(r)}},t}(module_1.default);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LaserGunModule;
//# sourceMappingURL=laser-module.js.map
