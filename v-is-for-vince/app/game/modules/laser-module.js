"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},module_1=require("../../engine/modules/module"),velocity_module_1=require("../../engine/modules/velocity-module"),keyboard_mapping_1=require("../../engine/input-controllers/keyboard-mapping"),keyboard_input_1=require("../../engine/input-controllers/keyboard-input"),game_1=require("../../engine/game"),laser_1=require("../models/laser"),LaserGunModule=function(e){function t(t,r,n){e.call(this),this.fireKey=t,this.acceleration=r,this.speed=n}return __extends(t,e),t.prototype.onAttach=function(e){var t=this,r=new keyboard_mapping_1.default;r.registerOnDown(this.fireKey,function(){return t.fireLaser(e)});var n=game_1.default.getInputController(keyboard_input_1.default);null!=n&&n.attachKeyboardMapping(r)},t.prototype.fireLaser=function(e){var t=e.getModule(velocity_module_1.default);if(null!=t){var r=t,n=new laser_1.default(this.acceleration,r.angle,this.speed);n.x=e.x,n.y=e.y,e.spawn(n)}},t}(module_1.default);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=LaserGunModule;
//# sourceMappingURL=laser-module.js.map
