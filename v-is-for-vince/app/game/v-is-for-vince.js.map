{"version":3,"sources":["game/v-is-for-vince.ts"],"names":["game_1","require","vince_1","jerry_1","bart_1","keyboard_input_1","velocity_module_1","basic_keyboard_movement_1","VinceGame","_super","canvas","_this","this","call","VEL","ACCEL","DECEL","window","addEventListener","setBounds","innerWidth","innerHeight","init","__extends","prototype","keyboard","default","addInput","vince","vinceKeys","Keyset","preparePlayer","jerry","jerryKeys","bart","bartKeys","object","keyset","velocity","addModule","mapping","BasicKeyboardMovementMapping","attachKeyboardMapping","start","showFrameRate","add","stop","removeAllGameObjects","Object","defineProperty","exports","value"],"mappings":"AAAA,sNAEAA,OAAAC,QAAiB,kBACjBC,QAAAD,QAAkB,kBAClBE,QAAAF,QAAkB,kBAClBG,OAAAH,QAAiB,iBACjBI,iBAAAJ,QAA+B,8CAC/BK,kBAAAL,QAA2B,qCAE3BM,0BAAAN,QAAqD,uDAGrDO,UAAA,SAAAC,GAYE,QAAAD,GAAYE,GAZd,GAAAC,GAAAC,IAaIH,GAAAI,KAAAD,KAAMF,GAXCE,KAAAE,IAAc,IACdF,KAAAG,MAAgB,IAChBH,KAAAI,MAAgB,GAYvBC,OAAOC,iBAAiB,SAAU,WAChCP,EAAKQ,UAAUF,OAAOG,WAAYH,OAAOI,eACxC,GAEHT,KAAKU,OA6CT,MAjEuCC,WAAAf,EAAAC,GAuBrCD,EAAAgB,UAAAF,KAAA,WACEV,KAAKa,SAAW,GAAIpB,kBAAAqB,QACpBjB,EAAAe,UAAMG,SAAQd,KAAAD,KAACA,KAAKa,UAEpBb,KAAKgB,MAAQ,GAAI1B,SAAAwB,OACjB,IAAIG,GAAY,GAAItB,2BAAAuB,OAAO,YAAa,UAAW,aAAc,YACjElB,MAAKmB,cAAcnB,KAAKgB,MAAOC,GAE/BjB,KAAKoB,MAAQ,GAAI7B,SAAAuB,OACjB,IAAIO,GAAY,GAAI1B,2BAAAuB,OAAO,OAAQ,OAAQ,OAAQ,OACnDlB,MAAKmB,cAAcnB,KAAKoB,MAAOC,GAE/BrB,KAAKsB,KAAO,GAAI9B,QAAAsB,OAChB,IAAIS,GAAW,GAAI5B,2BAAAuB,OAAO,OAAQ,OAAQ,OAAQ,OAClDlB,MAAKmB,cAAcnB,KAAKsB,KAAMC,IAKhC3B,EAAAgB,UAAAO,cAAA,SAAcK,EAAoBC,GAChC,GAAIC,GAAW,GAAIhC,mBAAAoB,QAAed,KAAKE,IAAKF,KAAKG,MAAOH,KAAKI,MAC7DoB,GAAOG,UAAUD,EACjB,IAAIE,GAAU,GAAIjC,2BAAAkC,6BAA6BH,EAAUD,EACzDzB,MAAKa,SAASiB,sBAAsBF,IAGtChC,EAAAgB,UAAAmB,MAAA,WACElC,EAAAe,UAAMmB,MAAK9B,KAAAD,MAEXA,KAAKgC,eAAc,GACnBhC,KAAKO,UAAUF,OAAOG,WAAYH,OAAOI,aAEzCT,KAAKiC,IAAIjC,KAAKgB,OACdhB,KAAKiC,IAAIjC,KAAKoB,OACdpB,KAAKiC,IAAIjC,KAAKsB,OAGhB1B,EAAAgB,UAAAsB,KAAA,WACErC,EAAAe,UAAMsB,KAAIjC,KAAAD,MAEVA,KAAKmC,wBAETvC,GAjEuCR,OAAA0B,QAAvCsB,QAAAC,eAAAC,QAAA,cAAAC,OAAA","file":"v-is-for-vince.js","sourcesContent":["'use strict';\n\nimport Game from '../engine/game';\nimport Vince from './models/vince';\nimport Jerry from './models/jerry';\nimport Bart from './models/bart';\nimport KeyboardController from '../engine/input-controllers/keyboard-input';\nimport VelocityModule from '../engine/modules/velocity-module';\nimport GameObject from '../engine/models/game-object';\nimport { BasicKeyboardMovementMapping, Keyset } from '../engine/input-controllers/basic-keyboard-movement';\n\n\nexport default class VinceGame extends Game {\n\n  readonly VEL: number = 250;\n  readonly ACCEL: number = 145;\n  readonly DECEL: number = 75;\n\n  vince: Vince;\n  jerry: Jerry;\n  bart: Bart;\n\n  keyboard: KeyboardController;\n\n  constructor(canvas: HTMLCanvasElement) {\n    super(canvas);\n\n    // This allows us to have a full width game\n    window.addEventListener('resize', () => {\n      this.setBounds(window.innerWidth, window.innerHeight);\n    }, false);\n\n    this.init();\n  }\n\n  init() {\n    this.keyboard = new KeyboardController;\n    super.addInput(this.keyboard); // Refactor this. Maybe it doesn't need to be attached to base game engine\n\n    this.vince = new Vince();\n    var vinceKeys = new Keyset(\"ArrowLeft\", \"ArrowUp\", \"ArrowRight\", \"ArrowDown\");\n    this.preparePlayer(this.vince, vinceKeys);\n\n    this.jerry = new Jerry();\n    var jerryKeys = new Keyset(\"KeyA\", \"KeyW\", \"KeyD\", \"KeyS\");\n    this.preparePlayer(this.jerry, jerryKeys);\n\n    this.bart = new Bart();\n    var bartKeys = new Keyset(\"KeyJ\", \"KeyI\", \"KeyL\", \"KeyK\");\n    this.preparePlayer(this.bart, bartKeys);\n\n  }\n\n  //temporary utility function\n  preparePlayer(object: GameObject, keyset: Keyset) {\n    var velocity = new VelocityModule(this.VEL, this.ACCEL, this.DECEL);\n    object.addModule(velocity);\n    var mapping = new BasicKeyboardMovementMapping(velocity, keyset);\n    this.keyboard.attachKeyboardMapping(mapping);\n  }\n\n  start() {\n    super.start();\n\n    this.showFrameRate(true);\n    this.setBounds(window.innerWidth, window.innerHeight);\n    \n    this.add(this.vince);\n    this.add(this.jerry);\n    this.add(this.bart);\n  }\n\n  stop() {\n    super.stop();\n\n    this.removeAllGameObjects();\n  }\n}\n"]}